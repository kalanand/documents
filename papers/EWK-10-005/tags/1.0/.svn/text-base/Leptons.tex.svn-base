Events with high-$\et$ electrons are selected online when they pass an
unprescaled L1 trigger filter that requires a coarse-granularity region 
of the ECAL to have $\et > $ 5 or 8~GeV depending on the run period. 
They subsequently must pass an unprescaled High-Level Trigger (HLT)~\cite{HLT}
filter that requires an ECAL cluster with $\et$ well below the offline 
$\et$ threshold of 25 GeV, using the full granularity of the ECAL and $\et$ measurements
corrected using offline calibration~\cite{CMS-PAS-EGM-10-003}. 
High-$\Pt$ muons are recorded online using the Level-1 muon
trigger and the HLT, which requires muons within $|\eta| < 2.1$ and
with a thresholds of $\Pt>9 \GeVc$ or $\Pt>15 \GeVc$, according to the running periods.

Electrons are identified offline as clusters of ECAL energy deposits
matched to tracks~\cite{GSF} from the silicon tracker. The ECAL clusters are designed
to collect the largest fraction of the energy of the original electron,
including energy radiated along its trajectory.  
They must fall in the ECAL fiducial volume
of $|\eta| < 1.44$ for EB clusters or $1.57 < |\eta| < 2.5$ for EE clusters.
The transition region from $1.44 < |\eta| < 1.57$
is excluded as it leads to lower-quality reconstructed clusters, due mainly to
services and cables exiting between the barrel and endcap calorimeters.

%Electron tracks are reconstructed using an
%algorithm~\cite{GSF} that accounts for possible energy loss due to
%bremsstrahlung in the tracker layers.
%The energy of an electron candidate with $\et>20~\gev$ is essentially
%determined by the ECAL cluster energy, while its momentum direction
%is determined by that of the associated track.

\input{MuonId}

% Muon used in this analysis are selected according to the
% quality criteria studies in~\cite{MUONPAS}. 
% %For the tranverse momentum range interesting for this measurement ($\Pt<200 \GeVc$)
% %the muon momentum resolution is dominated by the inner tracker detector.
% The muon must be identified by two different algorithms: one proceeds from
% the inner tracker outwards (``tracker muons''), the other one starts from
% segments in the muon chambers and proceeds inwards (``global muons'').
% Decays in flight of hadrons and punch-through are reducing a cut of $\chi^2/ndof < 10$
% on a global fit containing tracker and muon detector hits.
% In order to ensure a precise estimate of momentum and impact parameter,
% only tracks with more than 10 hits and at least one hit in the pixel detector are used.
% We require the presence of at least two levels of muon stations in the measurement, in order
% to ensures a good quality momentum estimate at the muon trigger level, and
% to further suppresses remaining fake muon candidates, which exhibit a
% small penetration into the iron yoke.
% %For the $\Zmm$ analysis we drop the $\chi^2/{\mathrm{ndof}}$ and
% %the request that the muon is found by the tracker algorithm
% %in order to minimize the cross-correlation between tracker and muon
% %detector for muon identification.
% %, that we exploit this feature in the simultaneous fit 
% %described in Section~\ref{sec:Zmumu}.
% Cosmics are rejected by requiring a transverse impact parameter distance to the beam spot
% position of less than 2 mm.



Events in which hadronic jets mimic an electron or a muon can contaminate
the $\Wo$ and $\Zo$ samples. Such background
%fake leptons, 
%as well as real leptons arising from decays of heavy-flavour hadrons
%or decays in flight of light mesons
%within jets, are 
is suppressed by imposing limits on the presence of additional 
tracks and calorimetric deposits near the trajectory of the lepton candidate.
We define isolation variables for the three subsystems:  
$\IECAL = \sum \et(\textrm{ECAL})/\pt^{\ell}$, 
$\IHCAL = \sum \et(\textrm{HCAL})/\pt^{\ell}$ and 
$\ITRK  = \sum \pt(\textrm{tracks})/\pt^{\ell}$,
where  $\pt^{\ell}$ is the transverse momentum of the lepton candidate.
The scalar sums of transverse energy ($\et$) 
and transverse momentum ($\pt$) 
are performed for objects falling within a cone
$\Delta R = \sqrt{(\Delta\eta)^2+(\Delta\phi)^2} < 0.3$ around
the lepton candidate,
the energy deposits and the track associated with the lepton candidate 
being excluded from the sums.  We also define a combined isolation variable,
$\IRelComb =  \IECAL+\IHCAL+\ITRK$.

\par
For both the $\Wen$ and $\Zee$ analyses
an electron candidate is considered isolated if $\ITRK <0.09$, $\IECAL < 0.07$
and $\IHCAL < 0.10$ in the barrel region;  $\ITRK <0.04$, $\IECAL < 0.05$
and $\IHCAL < 0.025$ in the endcap regions. The muon is considered to be 
isolated if $\IRelComb <$~0.10 for $\Wmn$ and $\ITRK<3$~GeV for $\Zmm$.


Particles misidentified as electrons are additionally 
suppressed by requiring that the $\eta$ and $\phi$ coordinates
of the track trajectory extrapolated to the ECAL match the $\eta$ and
$\phi$ coordinates of the ECAL cluster, by requiring a narrow ECAL
cluster width in $\eta$, and by limiting the HCAL energy measured in a
cone of $\Delta R < 0.15$ around the ECAL cluster direction.
Electrons from photon conversions are suppressed by requiring
one hit in the innermost pixel layer for the
reconstructed electron track.  Furthermore, electrons are
rejected when a partner track is found that is consistent with a
photon conversion, based on the opening angle and the separation in
the transverse plane at the point at which the electron and partner
tracks are parallel.
%\par
%The electron selection criteria were obtained
%by optimizing signal and background levels according to
%simulation-based studies. The optimization was done for EB
%and EE separately.  We use the same criteria for the $\Wen$ and
%$\Zee$ channels; these select approximately 81\% of the
%reconstructed electrons in the data with clusters in the ECAL fiducial
%volume and
%$\et>25~\GeV$, and reduce the
%fake electron background by
%two orders of magnitude.
%\par
More details and studies of electron reconstruction and identification
can be found in Ref.~\cite{CMS-PAS-EGM-10-004}.


An accurate $\MET$ measurement is essential for distinguishing
$\Wo$ signal from QCD backgrounds. We use $\MET$ estimate provided
by the Particle Flow (PF) algorithm which showed the best performance for the
CMS detector. Details on Particle Flow $\MET$ are provided in Ref.~\cite{PFMET}.

